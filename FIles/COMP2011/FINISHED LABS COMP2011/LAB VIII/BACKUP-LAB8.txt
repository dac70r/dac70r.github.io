#include <iostream>
#include <cstring>
#include <ctime>
#include <algorithm>
using namespace std;

//Global constant definition
const int PLAYER_NUM = 5;
const int SIZE = 5;
const int MAX_NAME_LENGTH = 10;
const int MAX_NUMBER = SIZE * SIZE;

// User-defined data type
struct Player
{ 
    char name[MAX_NAME_LENGTH];  
    int bingo_card[SIZE][SIZE];             
    bool card_status[SIZE][SIZE];     // 0 for empty, 1 for occupied
    bool bingo;               
};
//aditional helper function
void random(int arr[],int n){

    srand((unsigned)time(NULL));

    for(int i=n-1; i>0; i--){
        int j = rand()%(i+1);
        swap(arr[i],arr[j]);
    }
    return;
}

/*
Task 1
Initialize the players:
Assign the name
Randomly generate a bingo card
Initialize card_status to all zeros and bingo to false
*/

void init_player(Player& players,char name[]){

    strcpy(players.name,name);
    int arr[]={1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25};
    random(arr,25);
    players.bingo_card[SIZE][SIZE];
    int f=0;

    for(int i=0;i<5;i++){
        for(int k=0;k<5;k++){
            f++;
            players.bingo_card[i][k] = arr[f];
        }
    }
    return;

}

void display_info(Player plys[], int PLAYER_NUM)
{
    int nigga;
    for(int k=0;k<PLAYER_NUM;k++){
        cout.width(6);cout<<plys[k].name<<endl;
        for(int j=0;j<5;j++){
        for(int m=0;m<5;m++){
            nigga++;
            cout.width(6);cout<<plys[k].bingo_card[j][m]<<" ";
            if(nigga%5==0){
                cout<<endl;
            }
                

        }
    }

    }

    


    return;
}

int main()
{
    bool END = false;
    struct Player plys[PLAYER_NUM];
  	
    // input information for each player
	for(int i = 0; i < PLAYER_NUM; i++){
        char name[MAX_NAME_LENGTH];
		cout << "Player " << i + 1 << endl;
		cout << "Enter name (shorter than 10 characters)" << endl;
		cin >> name;
		cout << "Generating bingo card for player " << i + 1 << "..." << endl;
        init_player(plys[i], name);
	}
    cout << "Initialization done." << endl;
    display_info(plys, PLAYER_NUM);

    // Start game
    cout << endl;
    cout << "=================Welcome to Bingo Game=================" << endl;
    display_info(plys,5);

    return 0;
}
